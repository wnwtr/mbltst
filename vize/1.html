<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İslam Tarihi Çoktan Seçmeli Test</title>
    <button onclick="window.location.href='index.html'" style="position: fixed; bottom: 40px; right: 40px; padding: 20px 30px; background-color: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">Geri Dön</button>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0 auto; 
            max-width: 800px; /* Sayfa ortasında tutmak için max-width */
            padding: 20px; 
            background-color: #f9f9f9; 
            color: #333; 
            line-height: 1.6; /* Daha okunaklı için satır aralığı */
        }
        h1 { 
            text-align: center; 
            color: #2c3e50; 
            font-size: 2em; /* Daha büyük ve okunaklı */
            margin-bottom: 20px;
        }
        #showAnswersBtn { 
            background-color: #27ae60; 
            color: white; 
            border: none; 
            padding: 12px 20px; 
            border-radius: 5px; 
            cursor: pointer; 
            margin-bottom: 30px; 
            display: block; 
            margin: 0 auto; 
            font-size: 1.1em; 
            font-weight: bold;
        }
        #showAnswersBtn:hover { 
            background-color: #219a52; 
        }
        .question { 
            background-color: white; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
            padding: 20px; 
            margin-bottom: 30px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); 
        }
        .question p { 
            font-weight: bold; 
            font-size: 1.2em; /* Daha okunaklı soru metni */
            margin-bottom: 15px; 
        }
        .option { 
            display: flex; 
            align-items: center; 
            margin: 15px 0; 
            cursor: pointer; 
            padding: 8px; 
            border-radius: 5px; 
            transition: background-color 0.3s; 
            font-size: 1.1em; /* Daha büyük şık fontu */
            font-weight: normal; /* Şıklar bold olmasın */
        }
        .option input { 
            display: none; 
        } /* Gerçek radio'yu gizle */
        .option .radio { 
            width: 24px; 
            height: 24px; 
            border-radius: 50%; 
            background-color: white; 
            border: 2px solid #3498db; 
            margin-right: 15px; 
            position: relative; 
        }
        .option .radio::after { 
            content: ''; 
            width: 12px; 
            height: 12px; 
            border-radius: 50%; 
            background-color: #3498db; 
            position: absolute; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
            display: none; 
        }
        .option input:checked + .radio::after { 
            display: block; 
        }
        .option.correct { 
            background-color: #27ae60; 
            color: white; 
        }
        .option.incorrect { 
            background-color: #e74c3c; 
            color: white; 
        }
        .answer-hint { 
            display: none; 
            margin-top: 10px; 
            font-size: 0.9em; 
            color: #27ae60; 
            font-style: italic; 
            font-weight: normal; /* Hint normal font */
        }
        button.finish { 
            background-color: #3498db; 
            color: white; 
            border: none; 
            padding: 12px 20px; 
            border-radius: 5px; 
            cursor: pointer; 
            margin-top: 20px; 
            display: block; 
            margin: 0 auto; 
            font-size: 1.1em; 
            font-weight: bold;
        }
        button.finish:hover { 
            background-color: #2980b9; 
        }
        button:disabled { 
            background-color: #bdc3c7; 
            cursor: not-allowed; 
        }
        #result { 
            text-align: center; 
            margin-top: 30px; 
            font-size: 1.3em; 
            color: #2c3e50; 
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>İslam Tarihi Çoktan Seçmeli Test</h1>
    <button id="showAnswersBtn" onclick="showAllAnswers()">Cevapları Göster</button>
    <form id="quizForm"></form>
    <button class="finish" onclick="finishQuiz()">Testi Bitir</button>
    <div id="result"></div>

    <script>
        // Soru verileri (sabit, ama rastgele karıştırılacak)
        const quizData = [
            {
                question: "Aşağıdaki kişilerden hangisi Hz. Peygamber’in Hz. Hatice ile evliliğinden dünyaya gelen çocuklarından biri değildir?",
                options: [
                    { letter: 'A', text: 'Zeynep' },
                    { letter: 'B', text: 'Kâsım' },
                    { letter: 'C', text: 'Rukiyye' },
                    { letter: 'D', text: 'Fâtıma' },
                    { letter: 'E', text: 'İbrahim' }
                ],
                correct: 'E'
            },
            {
                question: "Aşağıdakilerden hangisi Habeşistan’a hicret eden ilk kafilede yer almıştır?",
                options: [
                    { letter: 'A', text: 'Ali' },
                    { letter: 'B', text: 'Hamza' },
                    { letter: 'C', text: 'Zeyd' },
                    { letter: 'D', text: 'Âişe' },
                    { letter: 'E', text: 'Rukiyye' }
                ],
                correct: 'E'
            },
            {
                question: "\"Hilfu’l-fudûl\" aşağıdakilerden hangisidir?",
                options: [
                    { letter: 'A', text: 'Arap kabileleri arasında yaşanan kan davalarını sonlandırma yetkisine sahip birlik' },
                    { letter: 'B', text: 'Büyük panayırların kurulduğu bölgeye verilen isim' },
                    { letter: 'C', text: 'Mekke’deki haksızlıkları engellemek amacıyla oluşturulan Hz. Peygamber’in de mensubu olduğu birlik' },
                    { letter: 'D', text: 'Mekke ticaretini geliştirmek üzere kurulan teşkilat' },
                    { letter: 'E', text: 'Mekke’deki bütün tüccarların bağlı bulunduğu teşkilat' }
                ],
                correct: 'C'
            },
            {
                question: "Hicaz bölgesi, Arap yarımadasının neresinde yer alır?",
                options: [
                    { letter: 'A', text: 'Kuzeyinde' },
                    { letter: 'B', text: 'Kuzeybatısında' },
                    { letter: 'C', text: 'Kuzeydoğusunda' },
                    { letter: 'D', text: 'Güneyinde' },
                    { letter: 'E', text: 'Batısında' }
                ],
                correct: 'E'
            },
            {
                question: "Hz. Peygamber Taif dönüşünde aşağıdakilerden hangisinin himayesinde Mekke’ye girmiştir?",
                options: [
                    { letter: 'A', text: 'Ayyaş b. Ebû Rebîa' },
                    { letter: 'B', text: 'Ebû Leheb' },
                    { letter: 'C', text: 'Mut’im b. Adî' },
                    { letter: 'D', text: 'Hişâm b. Hakem' },
                    { letter: 'E', text: 'Ebû Tâlib' }
                ],
                correct: 'C'
            },
            {
                question: "Mescid-i Nebevî ile ilgili aşağıdakilerden hangisi söylenemez?",
                options: [
                    { letter: 'A', text: 'Elçi ve misafirler burada kabul edilmekteydi.' },
                    { letter: 'B', text: 'Savaş esiri ve suçlular burada gözetim altında tutulmaktaydı.' },
                    { letter: 'C', text: 'İslam inanç esaslarının öğretildiği bir mekândı.' },
                    { letter: 'D', text: 'Ganimetler burada muhafaza edilmekteydi.' },
                    { letter: 'E', text: 'Zamanla şehrin önemli ticaret merkezlerinden biri haline gelmişti.' }
                ],
                correct: 'E'
            },
            {
                question: "Aşağıdakilerden hangisi Mekke’ye ve genel olarak Arap yarımadasına putperestliği getiren kişidir?",
                options: [
                    { letter: 'A', text: 'Kusay b. Kilâb' },
                    { letter: 'B', text: 'Kinâne b. Huzeyme' },
                    { letter: 'C', text: 'Amr b. Luhay' },
                    { letter: 'D', text: 'Fihr b. Mâlik' },
                    { letter: 'E', text: 'Zuhre b. Kilâb' }
                ],
                correct: 'C'
            },
            {
                question: "Putperest olmayıp Hz. İbrahim’den gelen tevhid inancını taşıyan kimseleri aşağıdakilerden hangisi ifade eder?",
                options: [
                    { letter: 'A', text: 'Hadarî' },
                    { letter: 'B', text: 'Yakubî' },
                    { letter: 'C', text: 'Keldanî' },
                    { letter: 'D', text: 'Hanif' },
                    { letter: 'E', text: 'Hanefî' }
                ],
                correct: 'D'
            },
            {
                question: "Hicretten sonra Müslümanlarla Mekkeli müşrikler arasında ilk yapılan gazve aşağıdakilerden hangisidir?",
                options: [
                    { letter: 'A', text: 'Bedir' },
                    { letter: 'B', text: 'Uhud' },
                    { letter: 'C', text: 'Hendek' },
                    { letter: 'D', text: 'Tebük' },
                    { letter: 'E', text: 'Hayber' }
                ],
                correct: 'A'
            },
            {
                question: "Habeşistan’a hicret ilk olarak hangi yılda gerçekleşmiştir?",
                options: [
                    { letter: 'A', text: '620' },
                    { letter: 'B', text: '612' },
                    { letter: 'C', text: '616' },
                    { letter: 'D', text: '615' },
                    { letter: 'E', text: '622' }
                ],
                correct: 'D'
            },
            {
                question: "Aşağıdakilerden hangisi Hz. Peygamber’in hicretten sonraki ilk uygulamaları arasında yer almaz?",
                options: [
                    { letter: 'A', text: 'Şehirde yaşayan Müslümanlar arasında kardeşlik anlaşması yapması' },
                    { letter: 'B', text: 'Medine’nin sınırlarının belirlenmesi' },
                    { letter: 'C', text: 'Mekkeli müşriklerin kervan yollarını tutması' },
                    { letter: 'D', text: 'Şehirde nüfus sayımı yapması' },
                    { letter: 'E', text: 'Mescid-i Nebevî’nin inşâ edilmesi' }
                ],
                correct: 'C'
            },
            {
                question: "Hz. Peygamber’in eşi Hz. Hatice ve amcası Ebû Tâlib’in vefat ettiği yıl İslâm tarihinde hangi isimle bilinmektedir?",
                options: [
                    { letter: 'A', text: 'Hüzün yılı' },
                    { letter: 'B', text: 'Zor yıl' },
                    { letter: 'C', text: 'Boykot yılı' },
                    { letter: 'D', text: 'Vefat yılı' },
                    { letter: 'E', text: 'Kabir yılı' }
                ],
                correct: 'A'
            },
            {
                question: "Aşağıdakilerden hangisi Medine Sözleşmesi’nde yer alan maddelerden biri değildir?",
                options: [
                    { letter: 'A', text: 'Medine’de İslâm’dan başka bir din ve inanç doğrultusunda ibadetin yasaklanması' },
                    { letter: 'B', text: 'Şehre dışarıdan gelecek saldırılarda şehrin Müslümanlar ve Yahudiler tarafından birlikte savunulması' },
                    { letter: 'C', text: 'Şehirde yaşayan müşrik Arap, Yahudi ve Müslümanların din ve vicdan hürriyetine sahip olması' },
                    { letter: 'D', text: 'Şehirde yaşayan gruplar arasındaki anlaşmazlıklarda son yargı merciinin Hz. Peygamber olması' },
                    { letter: 'E', text: 'Yahudilerin Hz. Peygamber’in ve Müslümanların düşmanlarıyla ittifak kurmamaları' }
                ],
                correct: 'A'
            },
            {
                question: "\"İlk vahyin gelişinden sonra Hz. Peygamber’e bir süre vahiy gelmemişti. Bu dönem İslâm tarihinde ' ' olarak bilinmektedir.\"",
                options: [
                    { letter: 'A', text: 'Kitâbetü’l-vahy' },
                    { letter: 'B', text: 'Fetretü’l-vahy' },
                    { letter: 'C', text: 'Kasrü’l-vahy' },
                    { letter: 'D', text: 'Şakku’l-vahy' },
                    { letter: 'E', text: 'Hattü’l-vahy' }
                ],
                correct: 'B'
            },
            {
                question: "Hz. İsmâil ve oğullarından sonra Mekke ve Kâbe’nin idaresini üstlenen Arap kabilesi aşağıdakilerden hangisidir?",
                options: [
                    { letter: 'A', text: 'Curhumlular' },
                    { letter: 'B', text: 'Kudâalılar' },
                    { letter: 'C', text: 'Huzâahlar' },
                    { letter: 'D', text: 'Gassânîler' },
                    { letter: 'E', text: 'Kureyşliler' }
                ],
                correct: 'A'
            },
            {
                question: "Hz. Peygamber’in evliliği sırasında Hz. Hatice’ye velilik yapan aşağıdakilerden hangisidir?",
                options: [
                    { letter: 'A', text: 'Amr b. Tufeyl' },
                    { letter: 'B', text: 'Utbe b. Âmir' },
                    { letter: 'C', text: 'Abdullah b. Amr' },
                    { letter: 'D', text: 'Amr b. Esed' },
                    { letter: 'E', text: 'Zürrâre b. Huveylid' }
                ],
                correct: 'D'
            },
            {
                question: "\"Bey’atü’r-Rıdvân\" (Allah’ın razı olduğu biat) terimi aşağıdakilerden hangisi ile ilgilidir?",
                options: [
                    { letter: 'A', text: 'Akabe Biatları' },
                    { letter: 'B', text: 'Medine Sözleşmesi' },
                    { letter: 'C', text: 'Tebük Gazvesi' },
                    { letter: 'D', text: 'Hudeybiye Antlaşması' },
                    { letter: 'E', text: 'Uhud Gazvesi' }
                ],
                correct: 'D'
            },
            {
                question: "Akabe Biatları ve Medine’ye hicretle ilgili aşağıdakilerden hangisi söylenemez?",
                options: [
                    { letter: 'A', text: 'Nübüvvetin 13. yılında (622) gerçekleşmiştir.' },
                    { letter: 'B', text: 'Mekke’den son olarak Hz. Peygamber ve Hz. Ebû Bekir ayrılmıştır.' },
                    { letter: 'C', text: 'Hicret hazırlıkları ikinci Akabe Biatı’ndan sonra başlamıştır.' },
                    { letter: 'D', text: 'Es’ad b. Zürâre, Evs ve Hazrec ile irtibat sağlanması için temsilci başkanı olarak seçilmiştir.' },
                    { letter: 'E', text: 'Birinci Akabe Biatı’ndan sonra İslâm ve Kur’ân’ı öğretmesi için Mus’ab b. Umeyr Yesrib’e gitmiştir.' }
                ],
                correct: 'B'
            },
            {
                question: "Receb ayı başında Hicaz-Yemen kervan yolu üzerinde kurulan panayır aşağıdakilerden hangisidir?",
                options: [
                    { letter: 'A', text: 'Mecenne' },
                    { letter: 'B', text: 'Hubaşe' },
                    { letter: 'C', text: 'Zülmecâz' },
                    { letter: 'D', text: 'Dûmetülcendel' },
                    { letter: 'E', text: 'Ukâz' }
                ],
                correct: 'B'
            },
            {
                question: "Nesî kavramını aşağıdakilerden hangisi açıklamaktadır?",
                options: [
                    { letter: 'A', text: 'Taif’te yaşayan Sakîf kabilesinin putudur.' },
                    { letter: 'B', text: 'Kureyşliler’in hac mevsimini yaz veya bahar aylarına denk getirmek için yıla bir ay ilâvede bulunmalarıdır.' },
                    { letter: 'C', text: 'Kâbe’de fal oku çekme uygulamasıdır.' },
                    { letter: 'D', text: 'Haram aylar dışında yapılan savaşlardır.' },
                    { letter: 'E', text: 'Hicaz’da hac mevsiminde kurulan en büyük panayııdır.' }
                ],
                correct: 'B'
            }
        ];

        let answers = {}; // Rastgeleleştirme sonrası doğru cevaplar

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function renderQuiz() {
            const form = document.getElementById('quizForm');
            form.innerHTML = '';

            // Soruları rastgele karıştır
            const shuffledQuiz = shuffle([...quizData]);

            shuffledQuiz.forEach((item, index) => {
                const qNum = index + 1;
                const div = document.createElement('div');
                div.className = 'question';
                div.id = `q${qNum}`;

                const p = document.createElement('p');
                p.textContent = item.question.replace('#1.', `#${qNum}.`); // Numarayı güncelle
                div.appendChild(p);

                // Şıkları rastgele karıştır
                const shuffledOptions = shuffle([...item.options]);
                shuffledOptions.forEach((opt, optIndex) => {
                    const newLetter = String.fromCharCode(65 + optIndex); // A, B, C, ...
                    const label = document.createElement('label');
                    label.className = 'option';
                    label.htmlFor = `q${qNum}${newLetter}`;
                    label.innerHTML = `<input type="radio" id="q${qNum}${newLetter}" name="q${qNum}" value="${newLetter}" onclick="checkAnswer(${qNum})"><span class="radio"></span>${newLetter}) ${opt.text}`;
                    div.appendChild(label);

                    // Eğer bu şık orijinal doğruysa, yeni harfi doğru olarak kaydet
                    if (opt.letter === item.correct) {
                        answers[`q${qNum}`] = { correct: newLetter, text: `${newLetter}) ${opt.text}` };
                    }
                });

                const hintP = document.createElement('p');
                hintP.className = 'answer-hint';
                hintP.id = `hint${qNum}`;
                hintP.innerHTML = `Doğru cevap: <strong>${answers[`q${qNum}`].text}</strong>`;
                div.appendChild(hintP);

                form.appendChild(div);
            });
        }

        // Sayfa yüklendiğinde quiz'i render et (rastgele)
        window.onload = renderQuiz;

        function checkAnswer(num) {
            const q = `q${num}`;
            const selected = document.querySelector(`input[name="${q}"]:checked`);
            if (!selected) return;

            const correct = answers[q].correct;
            const options = document.querySelectorAll(`#q${num} .option`);

            // Önce tüm renkleri sıfırla
            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
            });

            // Doğru şıkkı yeşil yap
            options.forEach(opt => {
                const input = opt.querySelector('input');
                if (input.value === correct) {
                    opt.classList.add('correct');
                }
            });

            // Seçilen yanlışsa kırmızı yap
            if (selected.value !== correct) {
                const selectedOpt = document.querySelector(`#q${num} .option:has(input[value="${selected.value}"])`);
                selectedOpt.classList.add('incorrect');
            }
        }

        function calculateScore() {
            let score = 0;
            const total = quizData.length;
            for (let i = 1; i <= total; i++) {
                const q = `q${i}`;
                const selected = document.querySelector(`input[name="${q}"]:checked`);
                if (selected && selected.value === answers[q].correct) {
                    score++;
                }
            }
            return score;
        }

        function finishQuiz() {
            // Tüm doğru şıkları yeşil yap
            const total = quizData.length;
            for (let i = 1; i <= total; i++) {
                const options = document.querySelectorAll(`#q${i} .option`);
                options.forEach(opt => {
                    const input = opt.querySelector('input');
                    if (input.value === answers[`q${i}`].correct) {
                        opt.classList.add('correct');
                    }
                    // Seçilen yanlışları kırmızı bırak, ama sıfırlamadan
                });
            }

            // Skoru hesapla ve göster
            const score = calculateScore();
            document.getElementById('result').innerHTML = `Toplam Skor: ${score} / ${total}`;
            document.querySelector('.finish').disabled = true;
        }

        function showAllAnswers() {
            const total = quizData.length;
            for (let i = 1; i <= total; i++) {
                document.getElementById(`hint${i}`).style.display = 'block';
            }
            document.getElementById('showAnswersBtn').disabled = true;
        }
    </script>
</body>
</html>